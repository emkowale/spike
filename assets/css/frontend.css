.spike-wrap{max-width:900px;margin:24px auto;padding:18px;border:1px solid #e5e7eb;border-radius:14px;background:#fff;box-shadow:0 6px 24px rgba(0,0,0,.06);font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
.spike-steps{display:flex;gap:8px;margin-bottom:12px}
.spike-step{flex:1;text-align:center;padding:10px;border-radius:10px;background:#f1f5f9;font-weight:700}
.spike-step.is-active{background:#e0f2fe}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media(max-width:768px){.grid{grid-template-columns:1fr}}
.field label{display:block;font-weight:600;margin:6px 0}
.field label span{color:#ef4444}
.field input,.field textarea{width:100%;padding:10px;border:1px solid #cbd5e1;border-radius:8px;font-size:16px}
.actions{display:flex;justify-content:space-between;gap:10px;margin-top:14px}
.btn{border:0;border-radius:10px;padding:12px 16px;background:#0ea5e9;color:#fff;font-weight:700;cursor:pointer}
.btn.secondary{background:#64748b}.btn.small{padding:8px 10px;font-size:12px}
.diagram{border:1px solid #e2e8f0;border-radius:10px;padding:8px;background:#fafafa}
.toggle{display:flex;gap:8px;margin-bottom:8px}
#spike_sig{border:1px dashed #94a3b8;border-radius:8px;background:#f8fafc;touch-action:none}
.consent-box{max-height:240px;overflow:auto;border:1px solid #e2e8f0;padding:10px;border-radius:8px;background:#fafafa}
/* Prevent horizontal wobble and fit diagram height */
.spike-wrap{overflow-x:hidden}
.spike-wrap *, .spike-wrap *::before, .spike-wrap *::after{box-sizing:border-box}
.diagram{overflow:hidden}
.diagram svg{display:block;width:100%;height:auto;max-height:60vh}
/* Make canvas responsive; stop horizontal scroll on mobile */
#spike_sig{width:100%;height:180px;display:block}
.field select{
  width:100%;
  padding:10px;
  border:1px solid #cbd5e1;
  border-radius:8px;
  font-size:16px;
  background:#fff;
  -webkit-appearance:none;
  appearance:none;
}
/* Single-image diagram */
.diagram-box{position:relative;max-width:600px;margin:auto}
.diagram-box img{display:block;width:100%;height:auto;max-height:60vh}
.diagram-box canvas{position:absolute;left:0;top:0;width:100%;height:100%}

/* Prevent horizontal wobble */
.spike-wrap{overflow-x:hidden}
.spike-wrap *, .spike-wrap *::before, .spike-wrap *::after{box-sizing:border-box}
